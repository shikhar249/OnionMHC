# OnionMHC
### Peptide - HLA-A*02:01 binding prediction using structure and sequence feature sets

#### Required Modules
1. Tensorflow 2.0.0 <br />
2. Pandas 0.25.3 <br />
3. scikit-learn 0.21.3 <br />
4. scipy 1.3.2 <br />
5. Numpy 1.17.4 <br />

#### Generating structure based features
Structure based features can be generated by running generate_features_cam_o.py. Each line in the input file `<input.dat>` contains the path to the pdb structures. 
```
python generate_features_cam_o.py -inp <input.dat> -out <output.csv>
```

Parallelizing generation of structure based features using mpirun

```
mpirun -np 16 python generate_features_cam_o.py -inp <input.dat> -out <output.csv>
```

#### Making Predictions
1. Clone this repository <br />
```
git clone https://github.com/shikhar249/OnionMHC
```

2. Run onionmhc.py <br />
```
python onionmhc.py -struc <structure-based features file> -seq <sequence file> -mod path/to/models/fold{0..4}_model{0..2}_bls_lstm.h5 -out <output file>
```
